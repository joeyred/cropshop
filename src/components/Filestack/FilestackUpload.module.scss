/**
 * Copyright (c) 2019-present, Brian J. Hayes.
 *
 * https://github.com/joeyred
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

////
/// The goal of these overrides is to eliminate the hiding of the sidebar on mobile.
///
/// This is due to the fact that there is no reason to hide such a small and easy to
/// access set of buttons.

@import '../../styles/_namespace';
@import '../../styles/foundation/_settings';
@import '../../../node_modules/foundation-sites/scss/foundation';

:global(#{$global_namespace}) {
  :global(.fsp-summary) {
    height: 100%;
    overflow-y: hidden;
  }

  .overrides {
    // Main Container Injected by Filstack
    :global(.fsp-picker--inline) {
      min-height: 1px;
      min-width: 1px;

      :global(.fsp-picker) {
        z-index: 10;
        position: relative;
        background: $white;
        color: $body-font-color;
      }

      :global(.fsp-modal) {
        position: relative;
        display: flex;
        flex-flow: row nowrap;
        z-index: 0;
      }
    }

    :global(.fsp-content) {
      // display: flex;
      // flex-flow: column;
      width: 100%;
      height: 100%;
      padding-top: 1rem;
      // scroll-behavior: smooth;
      // overflow-y: hidden;
      overflow-x: visible;
      // -webkit-overflow-scrolling: touch;
    }

    // Headers
    :global(.fsp-text__title) {
      font-family: $header-font-family;
      line-height: $header-lineheight;
      color: #ed4040;
    }

    // For Other Sources (Cloud & Social Media)
    :global(.fsp-source-auth__wrapper) {
      position: relative;
      top: 0;
      left: 0;
      transform: none;
    }

    // Sub-Header
    :global(.fsp-text__subheader) {
      color: $body-font-color;
    }

    :global(.fsp-button) {
      @include button;

      position: relative;
      margin-bottom: 16px;
      letter-spacing: 1px;

      :global(.fsp-badge) {
        position: absolute;
        top: -0.425rem;
        right: -0.425rem;
        background: $secondary-color;
        color: $white;
      }
    }

    :global(.fsp-modal__sidebar) {
      position: relative;
      background: $white;
      display: block;
      width: 60px;
      // No need to create room for a mobile hamburger menu icon
      top: 0;
      // height: calc(100% - 68px);
      height: 100%;

      // &:hover {
      //   width: 240px;
      // }
    }

    :global(.fsp-modal__body) {
      position: relative;
      box-sizing: border-box;
      display: flex;
      overflow: visible;
      align-items: center;
      // margin-left: 60px;
      width: calc(100% - 60px);
      height: 100%;
      // This takes care of the body content moving under the sidebar
      // left: 60px;
    }

    :global(.fsp-grid__label) {
      padding: 0.625rem 0;
    }

    :global(.fsp-summary) {
      display: flex;
      flex-flow: column;
      height: 100%;
      overflow-y: hidden;
    }

    :global(.fsp-summary__header) {
      padding: 0.625rem;
    }

    :global(.fsp-summary__filter) {
      margin: 0 auto;
    }

    :global(.fsp-summary__body) {
      display: flex;
      flex-flow: column;
      padding: 0.625rem 0;
      height: 100%;
      padding-bottom: 8rem;
      overflow-y: scroll;
      overflow-x: visible;
      // -webkit-overflow-scrolling: touch;

      > div:not(:global(.fsp-footer)) {
        width: 100%;
        // flex: 1 1 auto;
        padding: 0 0.625rem;
        // height: 100%;
        margin-bottom: 1rem;

        :global(.fsp-summary__item) {
          &:last-child {
            // margin-bottom: 15rem;
          }
        }
      }
    }

    :global(.fsp-footer) {
      // order: -1;
      position: fixed;
      box-sizing: border-box;
      // top: 28rem;
      // right: 0;
      // left: 0;
      bottom: 0;
      border: none;
      // overflow: visible;
      height: auto;
      background: $white;
      z-index: 999999;
      padding: 0.625rem;
      // transform: translate3d(0, 0, 0);
    }

    :global(.fsp-summary__item) {
      margin: 4px 0;
      padding: 4px;
    }

    :global(.fsp-summary__thumbnail) {
      display: flex;
      user-select: none;
      width: 3.125rem;
      height: 3.125rem;
    }

    :global(.fsp-summary__actions-container) {
      padding-right: 1rem;
    }

    :global(.fsp-drop-area-container) {
      padding: 1.875rem 1.875rem 4rem;
    }

    :global(.fsp-drop-area__title) {
      margin-top: 75px;
    }

    :global(.fsp-header) {
      display: none;
    }

    :global(.fsp-mobile-menu) {
      // No need to display the mobile menu icon
      display: none;
    }

    :global(.fsp-source-list) {
      position: relative;
      flex-direction: column;
      overflow-x: hidden;
      overflow-y: auto;
      padding-right: 100vw;
      width: 240px;
      height: 100%;
    }

    :global(.fsp-source-list__item) {
      width: 240px;
      height: 50px;
    }

    :global(.fsp-source-list__icon) {
      width: 38px;
      height: 38px;
      margin: 0 16px 0 11px;
    }

    :global(.fsp-footer__nav) {
      display: flex;
      flex-flow: row wrap;
      justify-content: space-between;

      span {
        flex: 0 1 auto;
      }
    }

    :global(.fsp-footer--appeared) {
      z-index: 10090;
    }

    :global(.fsp-footer__nav--right) {
      // width: 100%;

      > div {
        display: flex;
        flex-flow: row wrap;
        justify-content: space-between;

        :global(.fsp-button):last-child {
          margin-left: 0.625rem;
        }
      }
    }

    :global(.fsp-cloud__container) {
      height: 100%;
      overflow-y: scroll;
      -webkit-overflow-scrolling: touch;
    }

    :global(.fsp-grid) {
      padding: 0.625rem;
    }

    :global(.fps-grid__type-grid) {
      padding: 0.625rem;
    }

    :global(.fps-grid__type-grid .fsp-grid__cell) {
      padding: 0.625rem;
      flex: 0 1 50%;
      width: 50%;
    }

    :global(.fps-grid__type-list .fsp-grid__cell) {
      padding: 0 0.625rem;
      margin: 0.3rem 0;
    }

    :global(.fsp-cloud__files-container) {
      height: 100%;
    }

    :global(.fsp-cloud__breadcrumbs) {
      padding: 1rem;
    }

    :global(.fsp-cloud__folder-view) {
      height: 100%;
    }
  }
}
